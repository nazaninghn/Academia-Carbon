<!DOCTYPE html>
{% load static %}
{% load i18n %}
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% trans "Responsive Test" %} - Academia Carbon</title>
    {% csrf_token %}
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="{% static 'css/design-system.css' %}">
    <link rel="stylesheet" href="{% static 'css/mobile.css' %}">
    <link rel="stylesheet" href="{% static 'css/responsive-fixes.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .device-info {
            background: var(--color-primary-50);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid var(--color-primary-500);
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .test-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border: 1px solid var(--color-gray-200);
        }
        
        .test-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: var(--color-primary-500);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--color-primary-600);
        }
        
        .btn-secondary {
            background: var(--color-secondary-500);
            color: white;
        }
        
        .btn-secondary:hover {
            background: var(--color-secondary-600);
        }
        
        .responsive-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        .responsive-table th,
        .responsive-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--color-gray-200);
        }
        
        .responsive-table th {
            background: var(--color-gray-50);
            font-weight: 600;
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .test-container {
                padding: 10px;
            }
            
            .test-grid {
                grid-template-columns: 1fr;
            }
            
            .test-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                text-align: center;
            }
            
            .responsive-table {
                font-size: 14px;
            }
            
            .responsive-table th,
            .responsive-table td {
                padding: 8px 4px;
            }
        }
        
        @media (max-width: 480px) {
            .test-container {
                padding: 5px;
            }
            
            .test-card {
                padding: 15px;
            }
            
            .responsive-table {
                font-size: 12px;
            }
        }
        
        .screen-size-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            background: var(--color-primary-500);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="screen-size-indicator" id="screenSize">
        Screen: <span id="screenWidth"></span>px
    </div>
    
    <div class="test-container">
        <h1><i class="fas fa-mobile-alt"></i> {% trans "Responsive Design Test" %}</h1>
        
        <div class="device-info">
            <h3><i class="fas fa-info-circle"></i> {% trans "Device Information" %}</h3>
            <p><strong>{% trans "Screen Width" %}:</strong> <span id="currentWidth"></span>px</p>
            <p><strong>{% trans "Screen Height" %}:</strong> <span id="currentHeight"></span>px</p>
            <p><strong>{% trans "Device Type" %}:</strong> <span id="deviceType"></span></p>
            <p><strong>{% trans "Orientation" %}:</strong> <span id="orientation"></span></p>
        </div>
        
        <div class="test-buttons">
            <button class="btn btn-primary">
                <i class="fas fa-chart-bar"></i> {% trans "Primary Button" %}
            </button>
            <button class="btn btn-secondary">
                <i class="fas fa-cog"></i> {% trans "Secondary Button" %}
            </button>
            <button class="btn btn-primary">
                <i class="fas fa-download"></i> {% trans "Download Report" %}
            </button>
        </div>
        
        <div class="test-grid">
            <div class="test-card">
                <h3><i class="fas fa-leaf"></i> {% trans "Carbon Emissions" %}</h3>
                <p>{% trans "Total emissions this month" %}: <strong>1,234 kg CO‚ÇÇ</strong></p>
                <p>{% trans "Reduction target" %}: <strong>15%</strong></p>
                <div style="background: var(--color-success); height: 8px; border-radius: 4px; width: 65%;"></div>
            </div>
            
            <div class="test-card">
                <h3><i class="fas fa-chart-line"></i> {% trans "Analytics" %}</h3>
                <p>{% trans "Data points collected" %}: <strong>456</strong></p>
                <p>{% trans "Reports generated" %}: <strong>12</strong></p>
                <div style="background: var(--color-secondary-500); height: 8px; border-radius: 4px; width: 80%;"></div>
            </div>
            
            <div class="test-card">
                <h3><i class="fas fa-users"></i> {% trans "Team" %}</h3>
                <p>{% trans "Active users" %}: <strong>8</strong></p>
                <p>{% trans "Departments" %}: <strong>4</strong></p>
                <div style="background: var(--color-accent-500); height: 8px; border-radius: 4px; width: 45%;"></div>
            </div>
        </div>
        
        <div class="test-card">
            <h3><i class="fas fa-table"></i> {% trans "Responsive Table" %}</h3>
            <table class="responsive-table">
                <thead>
                    <tr>
                        <th>{% trans "Source" %}</th>
                        <th>{% trans "Emissions" %}</th>
                        <th>{% trans "Date" %}</th>
                        <th>{% trans "Status" %}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{% trans "Electricity" %}</td>
                        <td>450 kg CO‚ÇÇ</td>
                        <td>2024-01-15</td>
                        <td><span style="color: var(--color-success);">‚úì {% trans "Verified" %}</span></td>
                    </tr>
                    <tr>
                        <td>{% trans "Transportation" %}</td>
                        <td>320 kg CO‚ÇÇ</td>
                        <td>2024-01-14</td>
                        <td><span style="color: var(--color-warning);">‚è≥ {% trans "Pending" %}</span></td>
                    </tr>
                    <tr>
                        <td>{% trans "Heating" %}</td>
                        <td>280 kg CO‚ÇÇ</td>
                        <td>2024-01-13</td>
                        <td><span style="color: var(--color-success);">‚úì {% trans "Verified" %}</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="test-card">
            <h3><i class="fas fa-language"></i> {% trans "Language Switcher Test" %}</h3>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <button onclick="setLanguage('en')" class="btn btn-primary">
                    üá∫üá∏ English
                </button>
                <button onclick="setLanguage('tr')" class="btn btn-secondary">
                    üáπüá∑ T√ºrk√ße
                </button>
            </div>
        </div>
    </div>
    
    <script>
        function updateDeviceInfo() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            const orientation = width > height ? 'Landscape' : 'Portrait';
            
            let deviceType = 'Desktop';
            if (width <= 480) deviceType = 'Mobile (Small)';
            else if (width <= 768) deviceType = 'Mobile';
            else if (width <= 1024) deviceType = 'Tablet';
            else if (width <= 1200) deviceType = 'Laptop';
            
            document.getElementById('currentWidth').textContent = width;
            document.getElementById('currentHeight').textContent = height;
            document.getElementById('deviceType').textContent = deviceType;
            document.getElementById('orientation').textContent = orientation;
            document.getElementById('screenWidth').textContent = width;
        }
        
        function setLanguage(langCode) {
            const form = document.createElement('form');
            form.method = 'POST';
            form.action = '/i18n/setlang/';
            
            const csrfInput = document.createElement('input');
            csrfInput.type = 'hidden';
            csrfInput.name = 'csrfmiddlewaretoken';
            csrfInput.value = document.querySelector('[name=csrfmiddlewaretoken]')?.value || '{{ csrf_token }}';
            
            const langInput = document.createElement('input');
            langInput.type = 'hidden';
            langInput.name = 'language';
            langInput.value = langCode;
            
            const nextInput = document.createElement('input');
            nextInput.type = 'hidden';
            nextInput.name = 'next';
            nextInput.value = window.location.pathname;
            
            form.appendChild(csrfInput);
            form.appendChild(langInput);
            form.appendChild(nextInput);
            
            document.body.appendChild(form);
            form.submit();
        }
        
        // Update device info on load and resize
        updateDeviceInfo();
        window.addEventListener('resize', updateDeviceInfo);
        window.addEventListener('orientationchange', function() {
            setTimeout(updateDeviceInfo, 100);
        });
    </script>
</body>
</html>